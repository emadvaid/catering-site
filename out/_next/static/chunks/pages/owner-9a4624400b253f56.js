(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{2697:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/owner",function(){return s(1710)}])},9044:function(e,t,s){"use strict";s.d(t,{Z:function(){return Footer}});var r=s(5893);function Footer(){return(0,r.jsx)("footer",{className:"bg-gray-100 border-t mt-12",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-gray-600",children:["\xa9 ",new Date().getFullYear()," Friend's Catering — Phone: (555) 555-5555 — Email: info@example.com"]})})}},2907:function(e,t,s){"use strict";s.d(t,{Z:function(){return Header}});var r=s(5893),n=s(1664),a=s.n(n),l=s(3299),i=s(5770),o=s(2091);function Header(){let{data:e}=(0,l.useSession)(),{getCartCount:t}=(0,i.j)(),s=t();return(0,r.jsx)("header",{className:"bg-gradient-to-r from-orange-600 to-red-600 text-white shadow-lg",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:"Kabab Hut Catering"})}),(0,r.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,r.jsx)(a(),{href:"/",className:"hover:text-yellow-300 transition",children:"Home"}),(0,r.jsx)(a(),{href:"/menu",className:"hover:text-yellow-300 transition",children:"Menu"}),(0,r.jsx)(a(),{href:"/about",className:"hover:text-yellow-300 transition",children:"About"}),(0,r.jsx)(a(),{href:"/contact",className:"hover:text-yellow-300 transition",children:"Contact"}),(0,r.jsxs)(a(),{href:"/cart",className:"relative hover:text-yellow-300 transition",children:[(0,r.jsx)(o.FeP,{size:24}),s>0&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 bg-yellow-400 text-red-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:s})]}),e?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm",children:e.user.name||e.user.email}),("owner"===e.user.role||"root"===e.user.role)&&(0,r.jsx)(a(),{href:"/dashboard/owner",className:"hover:text-yellow-300",children:"Dashboard"}),(0,r.jsx)("button",{onClick:()=>(0,l.signOut)(),className:"px-3 py-1 bg-white text-red-600 rounded hover:bg-yellow-100 transition",children:"Logout"})]}):(0,r.jsx)(a(),{href:"/login",className:"px-4 py-2 bg-yellow-400 text-red-600 rounded font-semibold hover:bg-yellow-300 transition",children:"Login"})]})]})})}},1710:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return OwnerIndex}});var r=s(5893),n=s(7294),a=s(1163),l=s(2907),i=s(9044),o=s(1664),c=s.n(o);function OwnerIndex(){let e=(0,a.useRouter)(),[t,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let t=localStorage.getItem("role");if(!["owner","root"].includes(t)){e.replace("/login");return}(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=localStorage.getItem("role");return t.headers=Object.assign({},t.headers,{"x-role":s}),fetch(e,t)})("/api/stats").then(e=>e.json()).then(e=>s(e)).catch(()=>s(null))},[]),(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(l.Z,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-12 flex-grow",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Owner Backoffice"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsx)(c(),{href:"/owner/menu",className:"p-4 border rounded bg-white",children:"Manage Menu"}),(0,r.jsx)(c(),{href:"/owner/invoices",className:"p-4 border rounded bg-white",children:"Invoices"}),(0,r.jsx)(c(),{href:"/restaurants",className:"p-4 border rounded bg-white",children:"Public Listings"})]}),t?(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"p-4 border rounded bg-white",children:[(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),(0,r.jsxs)("div",{className:"text-2xl font-bold mt-2",children:["$",t.totalRevenue.toFixed(2)]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["from ",t.totalOrders," orders"]})]}),(0,r.jsxs)("div",{className:"p-4 border rounded bg-white",children:[(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Customers"}),(0,r.jsx)("div",{className:"text-2xl font-bold mt-2",children:t.customers}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"unique customers"})]}),(0,r.jsxs)("div",{className:"p-4 border rounded bg-white",children:[(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Top Item (by quantity)"}),(0,r.jsx)("div",{className:"text-2xl font-bold mt-2",children:t.topItems&&t.topItems[0]?t.topItems[0].name:"—"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:t.topItems&&t.topItems[0]?t.topItems[0].qty+" sold":""})]})]}):(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Loading stats…"}),(0,r.jsxs)("section",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Top Selling Items"}),(0,r.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:t&&t.topItems&&t.topItems.length?t.topItems.slice(0,9).map(e=>(0,r.jsxs)("div",{className:"p-3 border rounded bg-white",children:[(0,r.jsx)("div",{className:"font-semibold",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Quantity sold: ",e.qty]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Revenue: $",e.revenue.toFixed(2)]})]},e.name)):(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"No item sales yet."})})]})]}),(0,r.jsx)(i.Z,{})]})}},1163:function(e,t,s){e.exports=s(9974)}},function(e){e.O(0,[365,913,774,888,179],function(){return e(e.s=2697)}),_N_E=e.O()}]);