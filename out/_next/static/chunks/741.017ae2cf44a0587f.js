(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{9044:function(e,r,t){"use strict";t.d(r,{Z:function(){return Footer}});var s=t(5893);function Footer(){return(0,s.jsx)("footer",{className:"bg-gray-100 border-t mt-12",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6 text-center text-sm text-gray-600",children:["\xa9 ",new Date().getFullYear()," Friend's Catering — Phone: (555) 555-5555 — Email: info@example.com"]})})}},2907:function(e,r,t){"use strict";t.d(r,{Z:function(){return Header}});var s=t(5893),n=t(1664),l=t.n(n),a=t(3299),o=t(5770),i=t(2091);function Header(){let{data:e}=(0,a.useSession)(),{getCartCount:r}=(0,o.j)(),t=r();return(0,s.jsx)("header",{className:"bg-gradient-to-r from-orange-600 to-red-600 text-white shadow-lg",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:"Kabab Hut Catering"})}),(0,s.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,s.jsx)(l(),{href:"/",className:"hover:text-yellow-300 transition",children:"Home"}),(0,s.jsx)(l(),{href:"/menu",className:"hover:text-yellow-300 transition",children:"Menu"}),(0,s.jsx)(l(),{href:"/about",className:"hover:text-yellow-300 transition",children:"About"}),(0,s.jsx)(l(),{href:"/contact",className:"hover:text-yellow-300 transition",children:"Contact"}),(0,s.jsxs)(l(),{href:"/cart",className:"relative hover:text-yellow-300 transition",children:[(0,s.jsx)(i.FeP,{size:24}),t>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 bg-yellow-400 text-red-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:t})]}),e?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-sm",children:e.user.name||e.user.email}),("owner"===e.user.role||"root"===e.user.role)&&(0,s.jsx)(l(),{href:"/dashboard/owner",className:"hover:text-yellow-300",children:"Dashboard"}),(0,s.jsx)("button",{onClick:()=>(0,a.signOut)(),className:"px-3 py-1 bg-white text-red-600 rounded hover:bg-yellow-100 transition",children:"Logout"})]}):(0,s.jsx)(l(),{href:"/login",className:"px-4 py-2 bg-yellow-400 text-red-600 rounded font-semibold hover:bg-yellow-300 transition",children:"Login"})]})]})})}},5741:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return LoginComponent}});var s=t(5893),n=t(3299),l=t(7294),a=t(1163),o=t(2907),i=t(9044);function LoginComponent(){var e,r,t;let c,d;if("function"==typeof n.useSession){let e=(0,n.useSession)();e&&(c=e.data,d=e.status)}let u=(0,a.useRouter)(),[x,h]=(0,l.useState)(""),[m,f]=(0,l.useState)(""),[g,v]=(0,l.useState)("");async function handleLogin(e){e.preventDefault(),v("");let r=await (0,n.signIn)("credentials",{redirect:!1,email:x,password:m});r.ok||v("Invalid credentials")}return((0,l.useEffect)(()=>{var e;"authenticated"===d&&(null==c?void 0:null===(e=c.user)||void 0===e?void 0:e.role)&&("root"===c.user.role?u.replace("/dashboard/root"):"owner"===c.user.role?u.replace("/dashboard/owner"):"customer"===c.user.role?u.replace("/dashboard/customer"):u.replace("/"))},[d,c,u]),"loading"===d)?(0,s.jsx)("div",{children:"Loading..."}):void 0===d?(0,s.jsx)("div",{children:"Session unavailable. Please refresh or contact support."}):(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(o.Z,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-12 flex-grow",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Login"}),"authenticated"===d?(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"mb-2",children:["Currently logged in as ",(0,s.jsx)("strong",{children:(null==c?void 0:null===(e=c.user)||void 0===e?void 0:e.name)||(null==c?void 0:null===(r=c.user)||void 0===r?void 0:r.email)})," (",(0,s.jsx)("em",{children:null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.role}),")."]}),(0,s.jsx)("button",{onClick:function(){try{(0,n.signOut)()}catch(e){console.error("Error during logout:",e),alert("An error occurred while logging out. Please try again.")}},className:"px-3 py-1 border rounded",children:"Logout"})]}):(0,s.jsxs)("form",{onSubmit:handleLogin,className:"max-w-lg",children:[(0,s.jsx)("label",{className:"block mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:x,onChange:e=>h(e.target.value),required:!0,className:"w-full mb-4 px-2 py-1 border rounded"}),(0,s.jsx)("label",{className:"block mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",value:m,onChange:e=>f(e.target.value),required:!0,className:"w-full mb-4 px-2 py-1 border rounded"}),(0,s.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded w-full",children:"Login"}),g&&(0,s.jsx)("div",{className:"text-red-600 mt-2",children:g})]})]}),(0,s.jsx)(i.Z,{})]})}},1163:function(e,r,t){e.exports=t(9974)}}]);